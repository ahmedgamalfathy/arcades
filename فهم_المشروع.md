# فهم مشروع إدارة صالة الألعاب (Arcade Management System)

## نظرة عامة على المشروع
هذا مشروع **نظام إدارة صالة ألعاب** مبني بـ Laravel، مصمم لإدارة أجهزة الألعاب والحجوزات والعمليات اليومية والتتبع المالي لصالات الألعاب.

## التقنيات المستخدمة
- **Backend**: Laravel 12.0 (PHP 8.2+)
- **Frontend**: Vite + Tailwind CSS 4.0
- **المصادقة**: Laravel Sanctum (API tokens)
- **قاعدة البيانات**: MySQL (رئيسية) مع دعم Multi-Tenant
- **الوقت الفعلي**: Laravel Reverb (WebSocket)
- **الصلاحيات**: Spatie Laravel Permission
- **تسجيل الأنشطة**: Spatie Activity Log

## الميزات الرئيسية

### 1. إدارة الأجهزة
- إضافة وتعديل وحذف أجهزة الألعاب
- إدارة أنواع الأجهزة وأوقات التشغيل
- تتبع حالة الأجهزة (نشط/غير نشط)
- إدارة صيانة الأجهزة
- تسجيل جميع التغييرات

### 2. نظام الحجز والمؤقت
- حجز فردي للأجهزة
- حجز جماعي (عدة أجهزة)
- إدارة المؤقتات: بدء، إيقاف مؤقت، استئناف، إنهاء
- نقل الأجهزة بين المجموعات
- تحديثات فورية عبر WebSocket

### 3. إدارة العمليات اليومية
- إنشاء وإدارة الورديات اليومية
- تقارير يومية مع ملخص مالي
- إغلاق العمليات اليومية
- تتبع الإيرادات والمصروفات والأرباح

### 4. الإدارة المالية
- إدارة الطلبات مع تتبع الحالة والدفع
- تتبع المصروفات (داخلية/خارجية)
- إدارة المنتجات مع التسعير
- التقارير المالية والتحليلات
- حساب الأرباح اليومية

### 5. إدارة المستخدمين والصلاحيات
- مصادقة وتخويل المستخدمين
- نظام صلاحيات متقدم (RBAC)
- إدارة الملف الشخصي
- إدارة كلمات المرور
- تسجيل أنشطة المستخدمين

### 6. نظام الإشعارات
- إشعارات المستخدمين
- تتبع الإشعارات المقروءة/غير المقروءة
- توصيل الإشعارات في الوقت الفعلي

### 7. التقارير والتحليلات
- تقارير يومية مفصلة
- تقارير المصروفات
- بيانات الرسوم البيانية الشهرية
- سجلات الأنشطة لكل جهاز

## هيكل قاعدة البيانات (Multi-Tenant)

### النماذج الأساسية:
- **User** - مستخدمي النظام مع الأدوار والصلاحيات
- **Device** - أجهزة الألعاب مع الأنواع والأوقات
- **DeviceType** - فئات الأجهزة
- **DeviceTime** - فترات التسعير الزمنية
- **BookedDevice** - حجوزات الأجهزة
- **SessionDevice** - جلسات الحجز الجماعي
- **Daily** - سجلات الورديات اليومية
- **Order** - طلبات العملاء
- **Product** - المنتجات القابلة للبيع
- **Expense** - المصروفات المالية
- **Maintenance** - سجلات صيانة الأجهزة

### نظام Multi-Tenant:
- اتصال منفصل لقاعدة بيانات المستأجر
- قاعدة بيانات رئيسية للمستخدمين
- قاعدة بيانات المستأجر لبيانات الأعمال

## هيكل API

**المسار الأساسي**: `/api/v1/admin/`

### النقاط الرئيسية:
- `/auth` - تسجيل الدخول/الخروج
- `/users` - إدارة المستخدمين
- `/devices` - عمليات الأجهزة
- `/device-timer` - عمليات المؤقت
- `/orders` - إدارة الطلبات
- `/expenses` - تتبع المصروفات
- `/dailies` - العمليات اليومية
- `/reports` - التقارير المالية
- `/notifications` - إشعارات المستخدمين

## الميزات الأمنية
- مصادقة Sanctum API token
- نظام صلاحيات قائم على الأدوار
- تسجيل الأنشطة للامتثال
- الحذف الناعم لاستعادة البيانات
- تشفير كلمات المرور
- حماية CSRF

## خصائص التطوير
- **Audit Trail** - تسجيل جميع التغييرات
- **Soft Deletes** - حذف قابل للاستعادة
- **Real-time Updates** - تحديثات فورية
- **Role-Based Access** - تحكم دقيق في الصلاحيات
- **Multi-Tenant** - بيانات منفصلة لكل عمل
- **Financial Tracking** - تتبع مالي شامل

## الغرض من المشروع
نظام شامل لإدارة صالات الألعاب يتضمن:
- حجز الأجهزة (فردي وجماعي)
- التتبع المالي (إيرادات، مصروفات، أرباح)
- إدارة العمليات اليومية
- تقارير مفصلة
- نظام إشعارات
- إدارة المستخدمين والصلاحيات

هذا نظام إنتاجي جاهز لإدارة صالات الألعاب بميزات شاملة لحجز الأجهزة والتتبع المالي وإدارة العمليات.